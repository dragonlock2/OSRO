(kicad_sch (version 20211123) (generator eeschema)

  (uuid 13af8455-b52a-419f-bc9d-b3c47b53f12c)

  (paper "A4")

  (lib_symbols
    (symbol "Device:Q_TRIAC_A1A2G" (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "D" (id 0) (at 3.175 0.635 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Value" "Q_TRIAC_A1A2G" (id 1) (at 3.175 -1.27 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "" (id 2) (at 1.905 0.635 90)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (id 3) (at 0 0 90)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "TRIAC" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Triode for alternating current, anode1/anode2/gate" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "Q_TRIAC_A1A2G_0_1"
        (polyline
          (pts
            (xy -2.54 -1.27)
            (xy 2.54 -1.27)
          )
          (stroke (width 0.2032) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -2.54 1.27)
            (xy 2.54 1.27)
          )
          (stroke (width 0.2032) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -1.27 -2.54)
            (xy -0.635 -1.27)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -2.54 1.27)
            (xy -1.27 -1.27)
            (xy 0 1.27)
          )
          (stroke (width 0.2032) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0 -1.27)
            (xy 1.27 1.27)
            (xy 2.54 -1.27)
          )
          (stroke (width 0.2032) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "Q_TRIAC_A1A2G_1_1"
        (pin passive line (at 0 -3.81 90) (length 2.54)
          (name "A1" (effects (font (size 0.635 0.635))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 0 3.81 270) (length 2.54)
          (name "A2" (effects (font (size 0.635 0.635))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at -3.81 -2.54 0) (length 2.54)
          (name "G" (effects (font (size 0.635 0.635))))
          (number "3" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "Device:R_Small" (pin_numbers hide) (pin_names (offset 0.254) hide) (in_bom yes) (on_board yes)
      (property "Reference" "R" (id 0) (at 0.762 0.508 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Value" "R_Small" (id 1) (at 0.762 -1.016 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "" (id 2) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "R resistor" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Resistor, small symbol" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "R_*" (id 6) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "R_Small_0_1"
        (rectangle (start -0.762 1.778) (end 0.762 -1.778)
          (stroke (width 0.2032) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "R_Small_1_1"
        (pin passive line (at 0 2.54 270) (length 0.762)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 0 -2.54 90) (length 0.762)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "Isolator:TLP3021" (pin_names (offset 1.016)) (in_bom yes) (on_board yes)
      (property "Reference" "U" (id 0) (at -5.08 5.08 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Value" "TLP3021" (id 1) (at 0 5.08 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "Package_DIP:Toshiba_11-7A9" (id 2) (at -5.08 -5.08 0)
        (effects (font (size 1.27 1.27) italic) (justify left) hide)
      )
      (property "Datasheet" "https://toshiba.semicon-storage.com/info/docget.jsp?did=1421&prodName=TLP3021(S)" (id 3) (at -0.635 0 0)
        (effects (font (size 1.27 1.27)) (justify left) hide)
      )
      (property "ki_keywords" "Photo-Triac Opto Triac" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Photo-Triac, Vdrm 400V, Ift 15mA, DIP6" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "Toshiba*11?7A9*" (id 6) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "TLP3021_0_1"
        (rectangle (start -5.08 3.81) (end 5.08 -3.81)
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type background))
        )
        (polyline
          (pts
            (xy -3.175 -0.635)
            (xy -1.905 -0.635)
          )
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 1.905 0.635)
            (xy 3.683 0.635)
          )
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 2.286 -2.54)
            (xy 2.286 -0.635)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 2.286 -2.54)
            (xy 5.08 -2.54)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 2.286 2.54)
            (xy 2.286 0.635)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 2.286 2.54)
            (xy 5.08 2.54)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 2.667 -0.635)
            (xy 0.889 -0.635)
          )
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -5.08 2.54)
            (xy -2.54 2.54)
            (xy -2.54 0.635)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -2.54 0.762)
            (xy -2.54 -2.54)
            (xy -5.08 -2.54)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -2.54 -0.635)
            (xy -3.175 0.635)
            (xy -1.905 0.635)
            (xy -2.54 -0.635)
          )
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 1.524 -0.635)
            (xy 2.159 0.635)
            (xy 0.889 0.635)
            (xy 1.524 -0.635)
          )
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 3.048 0.635)
            (xy 2.413 -0.635)
            (xy 3.683 -0.635)
            (xy 3.048 0.635)
          )
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -1.143 -0.508)
            (xy 0.127 -0.508)
            (xy -0.254 -0.635)
            (xy -0.254 -0.381)
            (xy 0.127 -0.508)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -1.143 0.508)
            (xy 0.127 0.508)
            (xy -0.254 0.381)
            (xy -0.254 0.635)
            (xy 0.127 0.508)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "TLP3021_1_1"
        (pin passive line (at -7.62 2.54 0) (length 2.54)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at -7.62 -2.54 0) (length 2.54)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
        (pin no_connect line (at -5.08 0 0) (length 2.54) hide
          (name "NC" (effects (font (size 1.27 1.27))))
          (number "3" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 7.62 -2.54 180) (length 2.54)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "4" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 7.62 2.54 180) (length 2.54)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "6" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "power:GND" (power) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (id 0) (at 0 -6.35 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Value" "GND" (id 1) (at 0 -3.81 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (id 2) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "power-flag" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Power symbol creates a global label with name \"GND\" , ground" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "GND_0_1"
        (polyline
          (pts
            (xy 0 0)
            (xy 0 -1.27)
            (xy 1.27 -1.27)
            (xy 0 -2.54)
            (xy -1.27 -1.27)
            (xy 0 -1.27)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "GND_1_1"
        (pin power_in line (at 0 0 270) (length 0) hide
          (name "GND" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
    )
  )

  (junction (at 161.29 95.25) (diameter 0) (color 0 0 0 0)
    (uuid 0309853c-bd0b-4e7c-a81e-783390a6f472)
  )
  (junction (at 161.29 120.65) (diameter 0) (color 0 0 0 0)
    (uuid 05742656-7e32-467b-8bd1-33b5a2354494)
  )
  (junction (at 154.94 110.49) (diameter 0) (color 0 0 0 0)
    (uuid 89bd853f-305b-4e8f-8bad-d92302f8ea42)
  )

  (wire (pts (xy 154.94 105.41) (xy 154.94 102.87))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 04952842-bb64-4426-a380-2e22a19e68f8)
  )
  (wire (pts (xy 154.94 120.65) (xy 161.29 120.65))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 08995d04-b171-4892-80d3-c4c31a861194)
  )
  (wire (pts (xy 161.29 104.14) (xy 161.29 95.25))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 0ed8876b-877c-421d-b64d-701a4bf123d6)
  )
  (wire (pts (xy 135.89 105.41) (xy 137.16 105.41))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 0f2e15d8-a5e2-4632-8ab4-cef2276836d7)
  )
  (wire (pts (xy 161.29 95.25) (xy 163.83 95.25))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 19a041d3-9458-4be9-82a8-258e6f9bb7f2)
  )
  (wire (pts (xy 135.89 111.76) (xy 135.89 110.49))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 250da898-a8bc-47c3-8b26-1a14fde40239)
  )
  (wire (pts (xy 154.94 95.25) (xy 161.29 95.25))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 313f47b0-3a3c-4317-a445-efb01d16d1d9)
  )
  (wire (pts (xy 161.29 111.76) (xy 161.29 120.65))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 35d65979-e711-44e4-9f4e-cf2ad5c997be)
  )
  (wire (pts (xy 154.94 110.49) (xy 157.48 110.49))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 3cd9f6d8-5240-4317-b0f5-c1f001ac6b2d)
  )
  (wire (pts (xy 152.4 105.41) (xy 154.94 105.41))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 432d5fe1-3edc-4e4c-aec7-18dcf9631ab5)
  )
  (wire (pts (xy 154.94 97.79) (xy 154.94 95.25))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 4b8708a7-55cd-4d12-a63f-2e1f08ff535c)
  )
  (wire (pts (xy 129.54 105.41) (xy 130.81 105.41))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 67a67cff-344b-4c73-bab9-64dbd9f5332b)
  )
  (wire (pts (xy 135.89 110.49) (xy 137.16 110.49))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 7123124e-aa1b-45ea-8875-c00f9fa08fa9)
  )
  (wire (pts (xy 152.4 110.49) (xy 154.94 110.49))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 8d13666d-15e3-4895-9e1d-d84da1fe48cc)
  )
  (wire (pts (xy 161.29 120.65) (xy 163.83 120.65))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid b075e6fb-3aa1-4e74-b679-9dca90758a83)
  )
  (wire (pts (xy 154.94 110.49) (xy 154.94 113.03))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid b4fed3c4-9405-482d-af08-37d6f32ab97d)
  )
  (wire (pts (xy 154.94 118.11) (xy 154.94 120.65))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid c4691dce-46fc-47dc-b294-293fd7351516)
  )

  (hierarchical_label "T2" (shape input) (at 163.83 95.25 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid 1760f00e-955f-457c-916f-388870eeb156)
  )
  (hierarchical_label "T1" (shape input) (at 163.83 120.65 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid 286d8062-7bd0-4609-a9ac-74fad1bd7212)
  )
  (hierarchical_label "EN" (shape input) (at 129.54 105.41 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid d547bc92-966b-4c7d-8e95-82b50aca42bc)
  )

  (symbol (lib_id "Device:R_Small") (at 154.94 100.33 0)
    (in_bom yes) (on_board yes)
    (uuid 0c6987bd-0446-4772-a1bf-21a6fa732e72)
    (property "Reference" "R15" (id 0) (at 156.21 99.06 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "22" (id 1) (at 156.21 101.6 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Resistor_SMD:R_0603_1608Metric" (id 2) (at 154.94 100.33 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 154.94 100.33 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid f905ba8d-9e82-4cdc-8012-f1e29b2210d5))
    (pin "2" (uuid c10978a0-50b4-4d4f-a0d5-c67dcdb1eddf))
  )

  (symbol (lib_id "power:GND") (at 135.89 111.76 0)
    (in_bom yes) (on_board yes) (fields_autoplaced)
    (uuid 6be4272b-a426-45a6-8d77-6acdd60a78fb)
    (property "Reference" "#PWR036" (id 0) (at 135.89 118.11 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "GND" (id 1) (at 135.89 116.3225 0))
    (property "Footprint" "" (id 2) (at 135.89 111.76 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (id 3) (at 135.89 111.76 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid c0ca3d0f-e79e-43bc-9cf0-b5dfd9a18b5f))
  )

  (symbol (lib_id "Isolator:TLP3021") (at 144.78 107.95 0)
    (in_bom yes) (on_board yes) (fields_autoplaced)
    (uuid 87c6256c-9087-4292-b215-60150e6d92e3)
    (property "Reference" "U7" (id 0) (at 144.78 100.1735 0))
    (property "Value" "MOC3021SM" (id 1) (at 144.78 102.9486 0))
    (property "Footprint" "Package_DIP:SMDIP-6_W9.53mm_Clearance8mm" (id 2) (at 139.7 113.03 0)
      (effects (font (size 1.27 1.27) italic) (justify left) hide)
    )
    (property "Datasheet" "https://toshiba.semicon-storage.com/info/docget.jsp?did=1421&prodName=TLP3021(S)" (id 3) (at 144.145 107.95 0)
      (effects (font (size 1.27 1.27)) (justify left) hide)
    )
    (pin "1" (uuid b113c657-886c-4d0e-8d1f-70add60cf8f3))
    (pin "2" (uuid 08bc51d7-ac0c-4104-963a-3342f14d9862))
    (pin "3" (uuid 4e4bdb84-a273-45d9-bb7a-888daf070c39))
    (pin "4" (uuid 34b2a36b-0887-434f-a39b-c09014d8f712))
    (pin "6" (uuid 202c45cc-c67d-412e-8190-dc85a0583272))
  )

  (symbol (lib_id "Device:R_Small") (at 154.94 115.57 0) (mirror y)
    (in_bom yes) (on_board yes)
    (uuid 91a6582d-c885-450f-87a6-af7126326a3e)
    (property "Reference" "R16" (id 0) (at 153.67 114.3 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "10k" (id 1) (at 153.67 116.84 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Resistor_SMD:R_0603_1608Metric" (id 2) (at 154.94 115.57 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 154.94 115.57 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 3a29e5d6-689f-46d7-a623-bc932a7056da))
    (pin "2" (uuid a898c063-c862-4135-80c5-70fb0638d143))
  )

  (symbol (lib_id "Device:R_Small") (at 133.35 105.41 90)
    (in_bom yes) (on_board yes)
    (uuid 947fc430-880a-43c2-bc6e-72029de3a25a)
    (property "Reference" "R14" (id 0) (at 133.35 100.7069 90))
    (property "Value" "100" (id 1) (at 133.35 103.482 90))
    (property "Footprint" "Resistor_SMD:R_0603_1608Metric" (id 2) (at 133.35 105.41 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 133.35 105.41 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 7e049d4d-e7f5-4514-9d9e-b4b453f9ffc8))
    (pin "2" (uuid 892a23ff-7df9-49f4-8174-bf10846a3dd0))
  )

  (symbol (lib_id "Device:Q_TRIAC_A1A2G") (at 161.29 107.95 0)
    (in_bom yes) (on_board yes) (fields_autoplaced)
    (uuid c6e0c7ce-1aee-4ac3-ae35-3c2b1ed385c4)
    (property "Reference" "D7" (id 0) (at 164.5666 107.6257 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "BTA41-600B" (id 1) (at 164.5666 110.4008 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Package_TO_SOT_THT:TO-3P-3_Horizontal_TabDown" (id 2) (at 163.195 107.315 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 161.29 107.95 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid de4763db-3f8d-4d96-bc82-9c96acb59096))
    (pin "2" (uuid 718d64cf-535b-4caf-9f8f-81dd5d6aecc1))
    (pin "3" (uuid b3c9f10a-efd8-45b0-a444-860427646777))
  )
)
